<Window x:Class="WpfApp1.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:idc="clr-namespace:WpfApp1"
        SizeToContent="WidthAndHeight">
    <idc:ProportionalStackPanel>
        <ScrollViewer>
            <Grid Height="12000" Width="20" Background="Red" />
        </ScrollViewer>
    </idc:ProportionalStackPanel>
</Window>